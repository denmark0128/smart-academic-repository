<div id="save-btn-{{ paper.id }}">
    {% if is_saved %}
    <form 
        hx-post="{% url 'unsave_paper' paper.id %}" 
        hx-target="#save-btn-{{ paper.id }}" 
        hx-swap="outerHTML"
        hx-on="htmx:afterRequest: 
               htmx.ajax('GET', '{% url 'toast' %}?message=Paper removed!', '#toast-container')"
    >
        {% csrf_token %}
        <button type="submit" class="px-4 py-2 rounded bg-red-600 text-white w-full">
            Unsave Paper
        </button>
    </form>
    {% else %}
    <form 
        hx-post="{% url 'save_paper' paper.id %}" 
        hx-target="#save-btn-{{ paper.id }}" 
        hx-swap="outerHTML"
        hx-on="htmx:afterRequest: 
               htmx.ajax('GET', '{% url 'toast' %}?message=Paper saved!', '#toast-container')"
    >
        {% csrf_token %}
        <button type="submit" class="px-4 py-2 rounded bg-green-600 text-white w-full">
            Save Paper
        </button>
    </form>
    {% endif %}
</div>
